<ion-header translucent="true">
    <ion-toolbar class="custom-toolbar">
        <ion-buttons slot="start">
            <ion-icon name="grid-outline" size="large"></ion-icon>
        </ion-buttons>

        <ion-title class="toolbar-title">Overview</ion-title>

        <ion-buttons slot="end">
            <ion-icon name="ellipsis-horizontal-outline" size="large"></ion-icon>
        </ion-buttons>
    </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true" class="overview-content">

    <!-- Income / Expense Cards -->
    <div class="d-flex justify-content-around mt-3 px-3">
        <div class="summary-card text-center p-3 rounded-4 shadow-sm income-card">
            <h6 class="fw-bold text-muted mb-2">Total Income</h6>
            <h3 class="fw-bold">₹8,500</h3>
        </div>
        <div class="summary-card text-center p-3 rounded-4 shadow-sm expense-card">
            <h6 class="fw-bold text-muted mb-2">Total Expenses</h6>
            <h3 class="fw-bold">₹3,800</h3>
        </div>
    </div>

    <!-- Statistics -->
    <div class="px-3 mt-4">
        <div class="d-flex justify-content-between align-items-center mb-2">
            <div>
                <h5 class="fw-bold mb-0">Statistics</h5>
                <small class="text-muted">Apr 01 - Apr 30</small>
            </div>
            <ion-select interface="popover" [(ngModel)]="selectedFilter" placeholder="Monthly" class="small-select">
                <ion-select-option value="weekly">Weekly</ion-select-option>
                <ion-select-option value="monthly">Monthly</ion-select-option>
                <ion-select-option value="yearly">Yearly</ion-select-option>
            </ion-select>
        </div>
    </div>

    <!-- Chart -->
    <div class="chart-container px-3">
        <canvas id="overviewChart"></canvas>
    </div>

    <!-- Income / Expense Toggle -->
    <div class="d-flex justify-content-center mt-3 px-3">
        <button class="toggle-btn me-2" [ngClass]="{'active': activeTab === 'income'}" (click)="setActive('income')">
            Income
        </button>
        <button class="toggle-btn expense-btn" [ngClass]="{'active': activeTab === 'expense'}"
            (click)="setActive('expense')">
            Expenses
        </button>
    </div>

    <div class="transactions mt-4 px-3">

        <div *ngFor="let t of activeList"
            class="new-transaction-item d-flex justify-content-between align-items-center mb-3 p-2 rounded-3">

            <div class="d-flex align-items-center">

                <!-- New Icon Container -->
                <div class="icon-box d-flex justify-content-center align-items-center me-3" [ngStyle]="{
                   'background-color': t.amount > 0 ? '#e8f5e9' : '#ffebee',
                   'color': t.amount > 0 ? '#2e7d32' : '#c62828'
                 }">
                    <ion-icon [name]="t.icon" size="large"></ion-icon>
                </div>

                <!-- Title + date -->
                <div>
                    <h6 class="m-0 fw-bold">{{ t.title }}</h6>
                    <small class="text-muted">{{ t.date }}</small>
                </div>
            </div>

            <!-- INR Amount -->
            <div class="fw-bold fs-6" [ngClass]="t.amount > 0 ? 'text-success' : 'text-danger'">
                {{ t.amount > 0 ? '+' : '' }}{{ t.amount | currency:'INR' }}
            </div>

        </div>

    </div>



</ion-content>